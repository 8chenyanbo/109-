<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>109- 成績系統登入</title>
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <div class="card">
    <h2>109- 成績系統登入</h2>
    <p style="text-align:center;">請輸入座號（例如：114121 或 114129）</p>

    <input type="text" id="seat" placeholder="座號" />
    <div class="btn-group">
      <button onclick="login()">登入</button>
    </div>

    <div id="admin-link" style="display:none; text-align:center; margin-top:12px;">
      <a href="admin.html" style="color:#FB7185; font-weight:bold;">進入管理員介面</a>
    </div>
  </div>

  <script src="assets/script.js"></script>
  <script>
    function login() {
      let seat = document.getElementById("seat").value.trim();
      if (seat.endsWith("-afk")) {
        seat = seat.replace("-afk", "");
      }

      const validSeats = [
        ...Array.from({length: 15}, (_, i) => 114121 + i),
        ...Array.from({length: 13}, (_, i) => 114291 + i)
      ];
      const isAdmin = seat === "114129";

      if (validSeats.includes(Number(seat))) {
        localStorage.setItem("seat", seat);
        alert("登入成功！歡迎座號 " + seat);
        window.location.href = "grades.html";
      } else if (isAdmin) {
        localStorage.setItem("seat", seat);
        alert("管理員登入成功！");
        document.getElementById("admin-link").style.display = "block";
      } else {
        alert("座號錯誤，請洽老師");
      }
    }
  </script>
</body>
</html>
